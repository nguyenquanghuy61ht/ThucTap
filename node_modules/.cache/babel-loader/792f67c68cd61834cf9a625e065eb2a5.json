{"ast":null,"code":"import _slicedToArray from \"D:\\\\Thuctap\\\\client-app-v3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Thuctap\\\\client-app-v3\\\\src\\\\app\\\\EgretLayout\\\\SharedCompoents\\\\ShoppingCart.jsx\";\nimport React from \"react\";\nimport { Icon, MuiThemeProvider, IconButton, Drawer } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/styles\";\nimport { PropTypes } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { getCartList, deleteProductFromCart, updateCartAmount } from \"app/redux/actions/EcommerceActions\";\nvar cartListLoaded = false;\n\nfunction ShoppingCart(props) {\n  var _this = this;\n\n  var container = props.container,\n      settings = props.settings,\n      _props$cartList = props.cartList,\n      cartList = _props$cartList === void 0 ? [] : _props$cartList,\n      getCartList = props.getCartList,\n      deleteProductFromCart = props.deleteProductFromCart,\n      updateCartAmount = props.updateCartAmount,\n      user = props.user;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      panelOpen = _React$useState2[0],\n      setPanelOpen = _React$useState2[1];\n\n  if (!cartListLoaded) {\n    getCartList(user.userId);\n    cartListLoaded = true;\n  }\n\n  function handleDrawerToggle() {\n    setPanelOpen(!panelOpen);\n  } // const parentThemePalette = theme.palette;\n\n\n  return /*#__PURE__*/React.createElement(MuiThemeProvider, {\n    theme: settings.themes[settings.activeTheme],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Drawer, {\n    container: container,\n    variant: \"temporary\",\n    anchor: \"right\",\n    open: panelOpen,\n    onClose: handleDrawerToggle,\n    ModalProps: {\n      keepMounted: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mini-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart__topbar flex flex-middle p-16 mb-24\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"shopping_cart\"), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"ml-8 my-0 font-weight-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Cart\")), cartList.map(function (product) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: product.id,\n      className: \"mini-cart__item flex flex-middle flex-space-between py-16 px-8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-column mr-8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: function onClick() {\n        return updateCartAmount(user.userId, product.id, product.amount + 1);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      className: \"cursor-pointer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, \"keyboard_arrow_up\")), /*#__PURE__*/React.createElement(IconButton, {\n      disabled: !(product.amount - 1),\n      size: \"small\",\n      onClick: function onClick() {\n        return updateCartAmount(user.userId, product.id, product.amount - 1);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      className: \"cursor-pointer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }, \"keyboard_arrow_down\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: product.imgUrl,\n      alt: product.title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-8 text-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"m-0 mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, product.title), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \"$\", product.price, \" x \", product.amount)), /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: function onClick() {\n        return deleteProductFromCart(user.userId, product.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      fontSize: \"small\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, \"clear\")));\n  }))));\n}\n\nShoppingCart.propTypes = {\n  settings: PropTypes.object.isRequired,\n  cartList: PropTypes.array.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    settings: state.layout.settings,\n    getCartList: PropTypes.func.isRequired,\n    deleteProductFromCart: PropTypes.func.isRequired,\n    updateCartAmount: PropTypes.func.isRequired,\n    cartList: state.ecommerce.cartList,\n    user: state.user\n  };\n};\n\nexport default withStyles({}, {\n  withTheme: true\n})(connect(mapStateToProps, {\n  getCartList: getCartList,\n  deleteProductFromCart: deleteProductFromCart,\n  updateCartAmount: updateCartAmount\n})(ShoppingCart));","map":{"version":3,"names":["React","Icon","MuiThemeProvider","IconButton","Drawer","withStyles","PropTypes","connect","getCartList","deleteProductFromCart","updateCartAmount","cartListLoaded","ShoppingCart","props","container","settings","cartList","user","useState","panelOpen","setPanelOpen","userId","handleDrawerToggle","themes","activeTheme","keepMounted","map","product","id","amount","imgUrl","title","price","propTypes","object","isRequired","array","mapStateToProps","state","layout","func","ecommerce","withTheme"],"sources":["D:/Thuctap/client-app-v3/src/app/EgretLayout/SharedCompoents/ShoppingCart.jsx"],"sourcesContent":["import React from \"react\";\nimport {\n  Icon,\n  MuiThemeProvider,\n  IconButton,\n  Drawer\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/styles\";\nimport { PropTypes } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport {\n  getCartList,\n  deleteProductFromCart,\n  updateCartAmount\n} from \"app/redux/actions/EcommerceActions\";\n\nlet cartListLoaded = false;\n\nfunction ShoppingCart(props) {\n  const {\n    container,\n    settings,\n    cartList = [],\n    getCartList,\n    deleteProductFromCart,\n    updateCartAmount,\n    user\n  } = props;\n\n  const [panelOpen, setPanelOpen] = React.useState(false);\n\n  if (!cartListLoaded) {\n    getCartList(user.userId);\n    cartListLoaded = true;\n  }\n\n  function handleDrawerToggle() {\n    setPanelOpen(!panelOpen);\n  }\n\n  // const parentThemePalette = theme.palette;\n\n  return (\n    <MuiThemeProvider theme={settings.themes[settings.activeTheme]}>\n      {/* <IconButton\n        onClick={handleDrawerToggle}\n        style={{\n          color:\n            parentThemePalette.type === \"light\"\n              ? parentThemePalette.text.secondary\n              : parentThemePalette.text.primary\n        }}\n      >\n        <Badge color=\"secondary\" badgeContent={cartList.length}>\n          <Icon>shopping_cart</Icon>\n        </Badge>\n      </IconButton> */}\n\n      <Drawer\n        container={container}\n        variant=\"temporary\"\n        anchor={\"right\"}\n        open={panelOpen}\n        onClose={handleDrawerToggle}\n        ModalProps={{\n          keepMounted: true\n        }}\n      >\n        <div className=\"mini-cart\">\n          <div className=\"cart__topbar flex flex-middle p-16 mb-24\">\n            <Icon color=\"primary\">shopping_cart</Icon>\n            <h5 className=\"ml-8 my-0 font-weight-500\">Cart</h5>\n          </div>\n\n          {cartList.map(product => (\n            <div\n              key={product.id}\n              className=\"mini-cart__item flex flex-middle flex-space-between py-16 px-8\"\n            >\n              <div className=\"flex flex-column mr-8\">\n                <IconButton\n                  size=\"small\"\n                  onClick={() =>\n                    updateCartAmount(\n                      user.userId,\n                      product.id,\n                      product.amount + 1\n                    )\n                  }\n                >\n                  <Icon className=\"cursor-pointer\">keyboard_arrow_up</Icon>\n                </IconButton>\n                <IconButton\n                  disabled={!(product.amount - 1)}\n                  size=\"small\"\n                  onClick={() =>\n                    updateCartAmount(\n                      user.userId,\n                      product.id,\n                      product.amount - 1\n                    )\n                  }\n                >\n                  <Icon className=\"cursor-pointer\">keyboard_arrow_down</Icon>\n                </IconButton>\n              </div>\n              <div className=\"mr-8\">\n                <img src={product.imgUrl} alt={product.title} />\n              </div>\n              <div className=\"mr-8 text-center\">\n                <h6 className=\"m-0 mb-4\">{product.title}</h6>\n                <small className=\"text-muted\">\n                  ${product.price} x {product.amount}\n                </small>\n              </div>\n              <IconButton\n                size=\"small\"\n                onClick={() => deleteProductFromCart(user.userId, product.id)}\n              >\n                <Icon fontSize=\"small\">clear</Icon>\n              </IconButton>\n            </div>\n          ))}\n        </div>\n      </Drawer>\n    </MuiThemeProvider>\n  );\n}\n\nShoppingCart.propTypes = {\n  settings: PropTypes.object.isRequired,\n  cartList: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = state => ({\n  settings: state.layout.settings,\n  getCartList: PropTypes.func.isRequired,\n  deleteProductFromCart: PropTypes.func.isRequired,\n  updateCartAmount: PropTypes.func.isRequired,\n  cartList: state.ecommerce.cartList,\n  user: state.user\n});\n\nexport default withStyles({}, { withTheme: true })(\n  connect(\n    mapStateToProps,\n    { getCartList, deleteProductFromCart, updateCartAmount }\n  )(ShoppingCart)\n);\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,IADF,EAEEC,gBAFF,EAGEC,UAHF,EAIEC,MAJF,QAKO,mBALP;AAMA,SAASC,UAAT,QAA2B,qBAA3B;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SACEC,WADF,EAEEC,qBAFF,EAGEC,gBAHF,QAIO,oCAJP;AAMA,IAAIC,cAAc,GAAG,KAArB;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;EAAA;;EAC3B,IACEC,SADF,GAQID,KARJ,CACEC,SADF;EAAA,IAEEC,QAFF,GAQIF,KARJ,CAEEE,QAFF;EAAA,sBAQIF,KARJ,CAGEG,QAHF;EAAA,IAGEA,QAHF,gCAGa,EAHb;EAAA,IAIER,WAJF,GAQIK,KARJ,CAIEL,WAJF;EAAA,IAKEC,qBALF,GAQII,KARJ,CAKEJ,qBALF;EAAA,IAMEC,gBANF,GAQIG,KARJ,CAMEH,gBANF;EAAA,IAOEO,IAPF,GAQIJ,KARJ,CAOEI,IAPF;;EAUA,sBAAkCjB,KAAK,CAACkB,QAAN,CAAe,KAAf,CAAlC;EAAA;EAAA,IAAOC,SAAP;EAAA,IAAkBC,YAAlB;;EAEA,IAAI,CAACT,cAAL,EAAqB;IACnBH,WAAW,CAACS,IAAI,CAACI,MAAN,CAAX;IACAV,cAAc,GAAG,IAAjB;EACD;;EAED,SAASW,kBAAT,GAA8B;IAC5BF,YAAY,CAAC,CAACD,SAAF,CAAZ;EACD,CApB0B,CAsB3B;;;EAEA,oBACE,oBAAC,gBAAD;IAAkB,KAAK,EAAEJ,QAAQ,CAACQ,MAAT,CAAgBR,QAAQ,CAACS,WAAzB,CAAzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAeE,oBAAC,MAAD;IACE,SAAS,EAAEV,SADb;IAEE,OAAO,EAAC,WAFV;IAGE,MAAM,EAAE,OAHV;IAIE,IAAI,EAAEK,SAJR;IAKE,OAAO,EAAEG,kBALX;IAME,UAAU,EAAE;MACVG,WAAW,EAAE;IADH,CANd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAUE;IAAK,SAAS,EAAC,WAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,0CAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,IAAD;IAAM,KAAK,EAAC,SAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mBADF,eAEE;IAAI,SAAS,EAAC,2BAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,UAFF,CADF,EAMGT,QAAQ,CAACU,GAAT,CAAa,UAAAC,OAAO;IAAA,oBACnB;MACE,GAAG,EAAEA,OAAO,CAACC,EADf;MAEE,SAAS,EAAC,gEAFZ;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAIE;MAAK,SAAS,EAAC,uBAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE,oBAAC,UAAD;MACE,IAAI,EAAC,OADP;MAEE,OAAO,EAAE;QAAA,OACPlB,gBAAgB,CACdO,IAAI,CAACI,MADS,EAEdM,OAAO,CAACC,EAFM,EAGdD,OAAO,CAACE,MAAR,GAAiB,CAHH,CADT;MAAA,CAFX;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAUE,oBAAC,IAAD;MAAM,SAAS,EAAC,gBAAhB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,uBAVF,CADF,eAaE,oBAAC,UAAD;MACE,QAAQ,EAAE,EAAEF,OAAO,CAACE,MAAR,GAAiB,CAAnB,CADZ;MAEE,IAAI,EAAC,OAFP;MAGE,OAAO,EAAE;QAAA,OACPnB,gBAAgB,CACdO,IAAI,CAACI,MADS,EAEdM,OAAO,CAACC,EAFM,EAGdD,OAAO,CAACE,MAAR,GAAiB,CAHH,CADT;MAAA,CAHX;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAWE,oBAAC,IAAD;MAAM,SAAS,EAAC,gBAAhB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,yBAXF,CAbF,CAJF,eA+BE;MAAK,SAAS,EAAC,MAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE;MAAK,GAAG,EAAEF,OAAO,CAACG,MAAlB;MAA0B,GAAG,EAAEH,OAAO,CAACI,KAAvC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADF,CA/BF,eAkCE;MAAK,SAAS,EAAC,kBAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE;MAAI,SAAS,EAAC,UAAd;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAA0BJ,OAAO,CAACI,KAAlC,CADF,eAEE;MAAO,SAAS,EAAC,YAAjB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,QACIJ,OAAO,CAACK,KADZ,SACsBL,OAAO,CAACE,MAD9B,CAFF,CAlCF,eAwCE,oBAAC,UAAD;MACE,IAAI,EAAC,OADP;MAEE,OAAO,EAAE;QAAA,OAAMpB,qBAAqB,CAACQ,IAAI,CAACI,MAAN,EAAcM,OAAO,CAACC,EAAtB,CAA3B;MAAA,CAFX;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAIE,oBAAC,IAAD;MAAM,QAAQ,EAAC,OAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,WAJF,CAxCF,CADmB;EAAA,CAApB,CANH,CAVF,CAfF,CADF;AAqFD;;AAEDhB,YAAY,CAACqB,SAAb,GAAyB;EACvBlB,QAAQ,EAAET,SAAS,CAAC4B,MAAV,CAAiBC,UADJ;EAEvBnB,QAAQ,EAAEV,SAAS,CAAC8B,KAAV,CAAgBD;AAFH,CAAzB;;AAKA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;EAAA,OAAK;IAChCvB,QAAQ,EAAEuB,KAAK,CAACC,MAAN,CAAaxB,QADS;IAEhCP,WAAW,EAAEF,SAAS,CAACkC,IAAV,CAAeL,UAFI;IAGhC1B,qBAAqB,EAAEH,SAAS,CAACkC,IAAV,CAAeL,UAHN;IAIhCzB,gBAAgB,EAAEJ,SAAS,CAACkC,IAAV,CAAeL,UAJD;IAKhCnB,QAAQ,EAAEsB,KAAK,CAACG,SAAN,CAAgBzB,QALM;IAMhCC,IAAI,EAAEqB,KAAK,CAACrB;EANoB,CAAL;AAAA,CAA7B;;AASA,eAAeZ,UAAU,CAAC,EAAD,EAAK;EAAEqC,SAAS,EAAE;AAAb,CAAL,CAAV,CACbnC,OAAO,CACL8B,eADK,EAEL;EAAE7B,WAAW,EAAXA,WAAF;EAAeC,qBAAqB,EAArBA,qBAAf;EAAsCC,gBAAgB,EAAhBA;AAAtC,CAFK,CAAP,CAGEE,YAHF,CADa,CAAf"},"metadata":{},"sourceType":"module"}