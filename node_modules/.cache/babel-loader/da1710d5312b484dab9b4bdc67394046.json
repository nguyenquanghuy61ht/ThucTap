{"ast":null,"code":"import React from \"react\";\nvar insideRender = false;\nvar forceUpdateQueue = [];\nexport function useQueuedForceUpdate(forceUpdate) {\n  return function () {\n    if (insideRender) {\n      forceUpdateQueue.push(forceUpdate);\n    } else {\n      forceUpdate();\n    }\n  };\n}\nexport function useQueuedForceUpdateBlock(callback) {\n  // start intercepting force-update calls\n  insideRender = true;\n  forceUpdateQueue = [];\n\n  try {\n    var result = callback(); // stop intercepting force-update\n\n    insideRender = false; // store queue or nothing if it was empty to execute useLayoutEffect only when necessary\n\n    var queue_1 = forceUpdateQueue.length > 0 ? forceUpdateQueue : undefined; // run force-update queue in useLayoutEffect\n\n    React.useLayoutEffect(function () {\n      if (queue_1) {\n        queue_1.forEach(function (x) {\n          return x();\n        });\n      }\n    }, [queue_1]);\n    return result;\n  } finally {\n    insideRender = false;\n  }\n}","map":null,"metadata":{},"sourceType":"module"}