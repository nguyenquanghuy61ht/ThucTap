{"ast":null,"code":"import _createForOfIteratorHelper from \"D:\\\\Thuctap\\\\client-app-v3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"D:\\\\Thuctap\\\\client-app-v3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Thuctap\\\\client-app-v3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\Thuctap\\\\client-app-v3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\Thuctap\\\\client-app-v3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\Thuctap\\\\client-app-v3\\\\src\\\\egret\\\\components\\\\EgretVerticalNav\\\\EgretVerticalNavExpansionPanel.jsx\";\nimport React, { Component } from \"react\";\nimport { withStyles, Icon } from \"@material-ui/core\";\nimport TouchRipple from \"@material-ui/core/ButtonBase\";\nimport { withRouter } from \"react-router-dom\";\n\nvar styles = function styles(theme) {\n  return {\n    expandIcon: {\n      transition: \"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms\",\n      transform: \"rotate(90deg)\" // marginRight: \"16px\"\n\n    },\n    collapseIcon: {\n      transition: \"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms\",\n      transform: \"rotate(0deg)\" // marginRight: \"16px\"\n\n    },\n    \"expansion-panel\": {\n      overflow: \"hidden\",\n      transition: \"max-height 0.3s cubic-bezier(0, 0, 0.2, 1)\"\n    },\n    highlight: {\n      background: theme.palette.primary.main\n    }\n  };\n};\n\nvar EgretVerticalNavExpansionPanel = /*#__PURE__*/function (_Component) {\n  _inherits(EgretVerticalNavExpansionPanel, _Component);\n\n  var _super = _createSuper(EgretVerticalNavExpansionPanel);\n\n  function EgretVerticalNavExpansionPanel() {\n    var _this;\n\n    _classCallCheck(this, EgretVerticalNavExpansionPanel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      collapsed: true\n    };\n    _this.elementRef = React.createRef();\n    _this.componentHeight = 0;\n\n    _this.handleClick = function () {\n      _this.setState({\n        collapsed: !_this.state.collapsed\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(EgretVerticalNavExpansionPanel, [{\n    key: \"calcaulateHeight\",\n    value: function calcaulateHeight(node) {\n      if (node.name !== \"child\") {\n        var _iterator = _createForOfIteratorHelper(node.children),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var child = _step.value;\n            this.calcaulateHeight(child);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n\n      this.componentHeight += node.clientHeight;\n      return;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var location = this.props.location;\n      this.calcaulateHeight(this.elementRef); // OPEN DROPDOWN IF CHILD IS ACTIVE\n\n      var _iterator2 = _createForOfIteratorHelper(this.elementRef.children),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var child = _step2.value;\n\n          if (child.getAttribute(\"href\") === location.pathname) {\n            this.setState({\n              collapsed: false\n            });\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var collapsed = this.state.collapsed;\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          children = _this$props.children;\n      var _this$props$item = this.props.item,\n          name = _this$props$item.name,\n          icon = _this$props$item.icon,\n          badge = _this$props$item.badge;\n      var t = this.props.t;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(TouchRipple, {\n        className: \"nav-item flex-middle h-48 w-100\",\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: \"text-middle item-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, icon), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-middle pl-20 item-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, t(name))), badge && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"badge bg-\".concat(badge.color),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      }, badge.value), /*#__PURE__*/React.createElement(\"div\", {\n        className: collapsed ? classes.collapseIcon + \" item-arrow\" : classes.expandIcon + \" item-arrow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: \"text-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }\n      }, \"chevron_right\"))), /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(el) {\n          return _this2.elementRef = el;\n        },\n        className: classes[\"expansion-panel\"] + \" submenu\",\n        style: collapsed ? {\n          maxHeight: \"0px\"\n        } : {\n          maxHeight: this.componentHeight + \"px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }, children));\n    }\n  }]);\n\n  return EgretVerticalNavExpansionPanel;\n}(Component);\n\nexport default withRouter(withStyles(styles)(EgretVerticalNavExpansionPanel));","map":{"version":3,"names":["React","Component","withStyles","Icon","TouchRipple","withRouter","styles","theme","expandIcon","transition","transform","collapseIcon","overflow","highlight","background","palette","primary","main","EgretVerticalNavExpansionPanel","state","collapsed","elementRef","createRef","componentHeight","handleClick","setState","node","name","children","child","calcaulateHeight","clientHeight","location","props","getAttribute","pathname","classes","item","icon","badge","t","color","value","el","maxHeight"],"sources":["D:/Thuctap/client-app-v3/src/egret/components/EgretVerticalNav/EgretVerticalNavExpansionPanel.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport { withStyles, Icon } from \"@material-ui/core\";\nimport TouchRipple from \"@material-ui/core/ButtonBase\";\nimport { withRouter } from \"react-router-dom\";\n\nconst styles = (theme) => {\n  return {\n    expandIcon: {\n      transition: \"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms\",\n      transform: \"rotate(90deg)\",\n      // marginRight: \"16px\"\n    },\n    collapseIcon: {\n      transition: \"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms\",\n      transform: \"rotate(0deg)\",\n      // marginRight: \"16px\"\n    },\n    \"expansion-panel\": {\n      overflow: \"hidden\",\n      transition: \"max-height 0.3s cubic-bezier(0, 0, 0.2, 1)\",\n    },\n    highlight: {\n      background: theme.palette.primary.main,\n    },\n  };\n};\n\nclass EgretVerticalNavExpansionPanel extends Component {\n  state = {\n    collapsed: true,\n  };\n  elementRef = React.createRef();\n\n  componentHeight = 0;\n\n  handleClick = () => {\n    this.setState({ collapsed: !this.state.collapsed });\n  };\n\n  calcaulateHeight(node) {\n    if (node.name !== \"child\") {\n      for (let child of node.children) {\n        this.calcaulateHeight(child);\n      }\n    }\n    this.componentHeight += node.clientHeight;\n    return;\n  }\n  componentDidMount() {\n    let { location } = this.props;\n    this.calcaulateHeight(this.elementRef);\n\n    // OPEN DROPDOWN IF CHILD IS ACTIVE\n    for (let child of this.elementRef.children) {\n      if (child.getAttribute(\"href\") === location.pathname) {\n        this.setState({ collapsed: false });\n      }\n    }\n  }\n  render() {\n    let { collapsed } = this.state;\n    let { classes, children } = this.props;\n    let { name, icon, badge } = this.props.item;\n    const { t } = this.props;\n    return (\n      <div>\n        <TouchRipple\n          className=\"nav-item flex-middle h-48 w-100\"\n          onClick={this.handleClick}\n        >\n          <div>\n            <Icon className=\"text-middle item-icon\">{icon}</Icon>\n            <span className=\"text-middle pl-20 item-text\">{t(name)}</span>\n          </div>\n          {badge && (\n            <div className={`badge bg-${badge.color}`}>{badge.value}</div>\n          )}\n          <div\n            className={\n              collapsed\n                ? classes.collapseIcon + \" item-arrow\"\n                : classes.expandIcon + \" item-arrow\"\n            }\n          >\n            <Icon className=\"text-middle\">chevron_right</Icon>\n          </div>\n        </TouchRipple>\n\n        <div\n          ref={(el) => (this.elementRef = el)}\n          className={classes[\"expansion-panel\"] + \" submenu\"}\n          style={\n            collapsed\n              ? { maxHeight: \"0px\" }\n              : { maxHeight: this.componentHeight + \"px\" }\n          }\n        >\n          {children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(EgretVerticalNavExpansionPanel));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}